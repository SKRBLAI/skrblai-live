# Dead Code & Legacy Component Analysis Report\n\n**Generated:** 2025-10-02T18:49:42.396Z\n**Workspace:** /workspace\n\n## Executive Summary\n\nThis analysis identified **302** potentially problematic files out of **647** total source files.\n\n### Summary Statistics\n\n| Metric | Count |\n|--------|-------|\n| Total Files Analyzed | 647 |\n| Reachable from Entrypoints | 353 |\n| Unused Files | 252 |\n| Legacy Files | 29 |\n| Deprecated Files | 21 |\n| Safe to Remove | 159 |\n| Need Manual Review | 57 |\n| Can Inline | 62 |\n\n### Entrypoints Summary\n\n| Type | Count |\n|------|-------|\n| Next.js Pages | 39 |\n| Next.js Layouts | 10 |\n| API Routes | 84 |\n| CLI Scripts | 26 |\n| Dynamic Imports | 6 |\n\n## Safe Deletion Set\n\nThe following **159** files have zero inbound edges from entrypoints, no dynamic references, and no registry hits. They are safe to delete:\n\n| File | Size | Lines | Reason | Exports |\n|------|------|-------|--------|---------|\n| `components/percy/archive/PercyOnboardingRevolution_LEGACY_v1.tsx` | 144 KB | 2827 | no inbound edges from entrypoints, filename contains legacy indicators | PercyOnboardingRevolution |\n| `components/legacy/services/services/page.tsx` | 38 KB | 835 | no inbound edges from entrypoints, filename contains legacy indicators | ServicesPage |\n| `components/dashboard/VIPPortalDashboard.tsx` | 28.4 KB | 719 | no inbound edges from entrypoints | VIPPortalDashboard |\n| `components/dashboard/DashboardHome.tsx` | 26.5 KB | 675 | no inbound edges from entrypoints | DashboardHome |\n| `components/powerUser/CrossAgentHandoffModal.tsx` | 22.9 KB | 539 | no inbound edges from entrypoints | CrossAgentHandoffModal |\n| `lib/agents/legacy/AgentConstellationArchive.tsx` | 22 KB | 603 | no inbound edges from entrypoints, filename contains legacy indicators, gated by feature flags | ArchivedAgentConstellation, TIER_RADII, getOrbitTier, getOrbitSpeed, getOrbitAngle, calculatePosition, type OrbitAgent, type OrbitTier |\n| `archived-app/legacy/book-publishing/page.tsx` | 21 KB | 421 | no inbound edges from entrypoints, filename contains legacy indicators, contains @deprecated annotations | BookPublishingPage |\n| `hooks/useAgentLeague.ts` | 20.6 KB | 692 | no inbound edges from entrypoints | AgentLeagueAgent, PowerExecutionRequest, PowerExecutionResult, HandoffSuggestion, HandoffRecommendation, UseAgentLeagueOptions, UseAgentLeagueReturn, AnalyzeHandoffsParams, ExecuteHandoffParams, useAgentLeague, useAgent, useAgentWorkflow |\n| `archived-app/legacy/social-media/page.tsx` | 20.6 KB | 385 | no inbound edges from entrypoints, filename contains legacy indicators, contains @deprecated annotations | SocialMediaPage |\n| `components/popup/PercyIntelligenceModal.tsx` | 20.1 KB | 527 | no inbound edges from entrypoints | PercyIntelligenceModal, PercyIntelligenceModalProps |\n| `components/home/AgentPreviewSection.tsx` | 19.8 KB | 421 | no inbound edges from entrypoints, contains @deprecated annotations | AgentPreviewSection |\n| `lib/automation/workflowQueue.ts` | 18.3 KB | 623 | no inbound edges from entrypoints | WorkflowJob, WorkflowTemplate, WorkflowStep, workflowQueue, WORKFLOW_TEMPLATES, getWorkflowTemplate, getTemplatesForRole, getTemplatesByIndustry, getTemplatesByCategory, getTemplatePreview, getAvailableIndustries, getTemplatesByComplexity, generateTemplateRecommendations, getTemplateAnalytics |\n| `components/popup/SkillSmithInsightModal.tsx` | 18.1 KB | 449 | no inbound edges from entrypoints | SkillSmithInsightModal, SkillSmithInsightModalProps |\n| `components/agents/SuperheroIntelligenceDashboard.tsx` | 17.8 KB | 380 | no inbound edges from entrypoints | SuperheroIntelligenceDashboard |\n| `components/home/SkillSmithStandaloneHero.tsx` | 16.6 KB | 397 | no inbound edges from entrypoints, contains @deprecated annotations | SkillSmithStandaloneHero |\n| `lib/3d/Agent3DCardCore.tsx` | 15.9 KB | 565 | no inbound edges from entrypoints | Agent3DCardState, Agent3DCardProps, CardTransform, CardMaterial, CardGeometry, DEFAULT_CARD_CONFIG, CARD_GEOMETRIES, Agent3DCardCore, Agent3DCardProvider, Agent3DCardCore |\n| `utils/mobilePerformanceMonitor.ts` | 15.7 KB | 519 | no inbound edges from entrypoints | MobilePerformanceMonitor, initMobilePerformanceMonitor, getMobilePerformanceMonitor, logReactError |\n| `lib/powerUser/crossAgentHandoffs.ts` | 14.3 KB | 505 | no inbound edges from entrypoints | none |\n| `utils/imageAutomation.ts` | 14.1 KB | 467 | no inbound edges from entrypoints | ImageAutomation, getImageAutomation, initImageAutomation, useImageAutomation |\n| `components/percy/PercySMSOnboarding.tsx` | 13.4 KB | 380 | no inbound edges from entrypoints | PercySMSOnboarding |\n| ... and 139 more files | | | | |\n\n**Total potential savings:** 1.1 MB (30869 lines)\n\n## Inline Migration Set\n\nThe following **58** files are small helpers that could be inlined into their consumers:\n\n| File | Size | Lines | Imported By | Exports |\n|------|------|-------|-------------|---------|\n| `actions/sendEmail.ts` | 297 B | 8 | 1 file(s) | none |\n| `ai-agents/index.ts` | 1.1 KB | 36 | none | agents |\n| `ai-agents/iraAgent.ts` | 1.2 KB | 34 | 1 file(s) | iraAgent |\n| `app/about/metadata.ts` | 1.3 KB | 39 | none | metadata |\n| `app/api/cron/email-queue.ts` | 1 KB | 33 | none | none |\n| `app/dashboard/book-publishing/metadata.ts` | 362 B | 13 | none | metadata, viewport |\n| `app/dashboard/branding/metadata.ts` | 341 B | 13 | none | metadata, viewport |\n| `app/dashboard/getting-started/metadata.ts` | 329 B | 13 | none | metadata, viewport |\n| `app/dashboard/marketing/metadata.ts` | 333 B | 13 | none | metadata, viewport |\n| `app/dashboard/social-media/metadata.ts` | 339 B | 13 | none | metadata, viewport |\n| `app/dashboard/website/metadata.ts` | 337 B | 13 | none | metadata, viewport |\n| `components/percy/ClientProviders.tsx` | 249 B | 8 | none | PercyProviderWrapper |\n| `components/ui/SatisfactionBadge.tsx` | 639 B | 19 | none | SatisfactionBadge |\n| `components/utils/DomainRedirect.tsx` | 1.2 KB | 34 | none | DomainRedirect |\n| `lib/agents/client.ts` | 759 B | 21 | none | none |\n| ... and 43 more files | | | | |\n\n## Blocked Set (Needs Manual Review)\n\nThe following **57** files require manual review before removal:\n\n| File | Status | Reason | Critical References |\n|------|--------|--------|---------------------|\n| `app/PercyButton.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `app/PercyChat.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `app/proposal/public/[id].tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/AgentCard.tsx` | unused | no inbound edges from entrypoints | 7 references |\n| `components/PercyChat.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/agents/AgentCard.tsx` | unused | no inbound edges from entrypoints | 7 references |\n| `components/agents/AgentInputModal.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/agents/AgentModal.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/agents/HandoffSuggestionsPanel.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/agents/WorkflowLaunchButton.tsx` | unused | no inbound edges from entrypoints | 6 references |\n| `components/alerts/SessionAlert.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/background/AnimatedBackground.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/book-publishing/PublishingAssistantPanel.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/payments/PaymentButton.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/payments/TaxSummary.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/percy/AgentModal.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/percy/PercyAnimations.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| `components/percy/PercyAvatar.tsx` | unused | no inbound edges from entrypoints | 17 references |\n| `components/percy/PercyChat.tsx` | unused | no inbound edges from entrypoints | 2 references |\n| `components/percy/PercyContainer.tsx` | unused | no inbound edges from entrypoints | 1 references |\n| ... and 37 more files | | | |\n\n## Legacy Components Analysis\n\nFound **29** files with legacy indicators:\n\n| File | Replaced By | Size | Action |\n|------|-------------|------|--------|\n| `app/api/email/templates.ts` | Unknown | 1.9 KB | remove |\n| `app/api/workflows/templates.ts` | Unknown | 6.4 KB | remove |\n| `archived-app/auth/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 406 B | remove |\n| `archived-app/auth-test/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 2.2 KB | remove |\n| `archived-app/legacy/book-publishing/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 410 B | remove |\n| `archived-app/legacy/book-publishing/metadata.ts` | app/dashboard/profile/metadata.ts | 1.4 KB | remove |\n| `archived-app/legacy/branding/metadata.ts` | app/dashboard/profile/metadata.ts | 1.3 KB | remove |\n| `archived-app/legacy/social-media/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 393 B | remove |\n| `archived-app/legacy/social-media/metadata.ts` | app/dashboard/profile/metadata.ts | 1.4 KB | remove |\n| `archived-app/log-out/metadata.ts` | app/dashboard/profile/metadata.ts | 283 B | remove |\n| `archived-app/sign-in/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 11.4 KB | remove |\n| `components/legacy/home/OnboardingSection.tsx` | contexts/OnboardingContext.tsx | 2 KB | remove |\n| `components/legacy/onboarding/UnifiedOnboarding.tsx` | Unknown | 2.7 KB | remove |\n| `components/legacy/services/services/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 437 B | remove |\n| `components/legacy/services/services/metadata.ts` | app/dashboard/profile/metadata.ts | 1.2 KB | remove |\n| `components/legacy/services/services/not-found.tsx` | app/not-found.tsx | 4 KB | remove |\n| `components/legacy/services/services/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 38 KB | remove |\n| `components/percy/archive/PercyOnboardingRevolution_LEGACY_v1.tsx` | components/legacy/home/PercyOnboardingRevolution.tsx | 144 KB | remove |\n| `components/workflows/WorkflowTemplateCard.tsx` | Unknown | 3.1 KB | remove |\n| `lib/agents/legacy/AgentConstellationArchive.tsx` | Unknown | 22 KB | remove |\n| `archived-app/auth/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 510 B | inline-small-bits |\n| `archived-app/legacy/agent-backstory/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 461 B | inline-small-bits |\n| `archived-app/log-out/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 250 B | inline-small-bits |\n| `archived-app/log-out/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 1.3 KB | inline-small-bits |\n| `archived-app/sign-in/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 142 B | inline-small-bits |\n| `archived-app/sign-up/layout.tsx` | app/about/layout.tsx, app/agents/layout.tsx, app/contact/layout.tsx, app/content-automation/layout.tsx, app/dashboard/layout.tsx, app/dashboard/profile/layout.tsx, app/features/layout.tsx, app/layout.tsx, app/pricing/layout.tsx, app/sports/layout.tsx | 142 B | inline-small-bits |\n| `archived-app/sign-up/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 1.1 KB | inline-small-bits |\n| `components/legacy/services/services/[agent]/AgentServiceClient.tsx` | Unknown | 57.8 KB | needs_manual_review |\n| `components/legacy/services/services/[agent]/page.tsx` | app/(auth)/sign-in/page.tsx, app/(auth)/sign-up/page.tsx, app/about/page.tsx, app/academy/page.tsx, app/admin/logs/page.tsx, app/admin/percy/page.tsx, app/agents/[agent]/backstory/page.tsx, app/agents/[agent]/page.tsx, app/agents/ira/page.tsx, app/agents/not-found/page.tsx, app/agents/page.tsx, app/auth/callback/page.tsx, app/auth/redirect/page.tsx, app/checkout/cancel/page.tsx, app/checkout/page.tsx, app/checkout/success/page.tsx, app/contact/page.tsx, app/content-automation/page.tsx, app/dashboard/analytics/internal/page.tsx, app/dashboard/analytics/page.tsx, app/dashboard/book-publishing/page.tsx, app/dashboard/branding/page.tsx, app/dashboard/founder/page.tsx, app/dashboard/founders/page.tsx, app/dashboard/getting-started/page.tsx, app/dashboard/heir/page.tsx, app/dashboard/marketing/page.tsx, app/dashboard/page.tsx, app/dashboard/parent/page.tsx, app/dashboard/profile/page.tsx, app/dashboard/social-media/page.tsx, app/dashboard/user/page.tsx, app/dashboard/vip/page.tsx, app/dashboard/website/page.tsx, app/features/page.tsx, app/page.tsx, app/pricing/page.tsx, app/sports/page.tsx, app/sports/upload/page.tsx | 884 B | inline-small-bits |\n\n## Deprecated Components Analysis\n\nFound **21** files with deprecation annotations:\n\n| File | Deprecation Notes | Size | Action |\n|------|-------------------|------|--------|\n| `archived-app/legacy/agent-backstory/[agentId]/page.tsx` | Line 1: // DEPRECATED: Legacy agent backstory page. Redirects to /agents/[agentId] via next.config.js. Use /agents/[agentId] instead. | 9.3 KB | remove |\n| `archived-app/legacy/book-publishing/page.tsx` | Line 1: // DEPRECATED: Legacy marketing page. Redirects to /agents/book-publishing via next.config.js. Use /agents/[agentId] instead. | 21 KB | remove |\n| `archived-app/legacy/branding/page.tsx` | Line 1: // DEPRECATED: Legacy marketing page. Redirects to /services/branding via next.config.js. Use /services/[agentId] instead. | 12.9 KB | remove |\n| `archived-app/legacy/social-media/page.tsx` | Line 1: // DEPRECATED: Legacy marketing page. Redirects to /agents/socialnino via next.config.js. Use /agents/[agentId] instead. | 20.6 KB | remove |\n| `components/home/AgentPreviewSection.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 19.8 KB | remove |\n| `components/home/BusinessResultsShowcase.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 13.2 KB | remove |\n| `components/home/SkillSmithHero.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 3.1 KB | remove |\n| `components/home/SkillSmithStandaloneHero.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 16.6 KB | remove |\n| `components/home/SplitHero.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 6.8 KB | remove |\n| `components/home/SuperAgentPowers.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 9.9 KB | remove |\n| `components/home/UrgencyBanner.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 8 KB | remove |\n| `components/home/Hero.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 1.6 KB | inline-small-bits |\n| `components/home/PercyAvatar.tsx` | Line 1: // @deprecated (2025-09-26): Use components/ui/PercyAvatar.tsx instead | 8.8 KB | needs_manual_review |\n| `components/home/Spotlight.tsx` | Line 1: // @deprecated (2025-09-26): superseded by HomeHeroScanFirst. Kept for reference. | 1.7 KB | inline-small-bits |\n| `components/legacy/home/PercyOnboardingRevolution.tsx` | Line 107: // 🚨 DEPRECATED: Show performance warning for legacy component | 145.9 KB | needs_manual_review |\n| `lib/agents/handoffSystem.ts` | Line 2: * DEPRECATED: Please import from '@/lib/agents/handoffs/handoffSystem' | 239 B | inline-small-bits |\n| `lib/agents/workflowLookup.ts` | Line 2: * DEPRECATED: Please import from '@/lib/agents/workflows/workflowLookup' | 231 B | needs_manual_review |\n| `lib/env.ts` | Line 114: * @deprecated Use assertEnvAtRuntime() instead - only call inside handlers/components, not at import time; Line 144: * @deprecated Use assertEnvAtRuntime() directly | 4.8 KB | needs_manual_review |\n| `lib/supabase/server.ts` | Line 87: * @deprecated Use getServerSupabaseAdmin() or getServerSupabaseAnon() instead; Line 103: * @deprecated Use getServerSupabaseAdmin() directly and handle null returns | 3.6 KB | needs_manual_review |\n| `utils/agentImages.ts` | Line 55: * @deprecated Use getAgentImagePaths instead | 2.4 KB | needs_manual_review |\n| `utils/twilioSms.ts` | Line 30: * Deprecated: use `body` moving forward. Still supported so existing callers keep working. | 4.4 KB | needs_manual_review |\n\n## How to Verify Nothing Breaks\n\nBefore removing any files, follow this verification checklist:\n\n### 1. Build Verification\n```bash\nnpm run build\nnpm run type-check\n```\n\n### 2. Test Suite\n```bash\nnpm run test\nnpm run test:smoke\n```\n\n### 3. Runtime Verification\n```bash\nnpm run dev\n# Test key user flows:\n# - Homepage load\n# - Agent pages\n# - Dashboard functionality\n# - Authentication flow\n```\n\n### 4. Feature Flag Testing\nTest with different environment configurations:\n```bash\n# Test with all flags enabled\nNEXT_PUBLIC_FEATURE_FLAGS=all npm run dev\n\n# Test with minimal flags\nNEXT_PUBLIC_FEATURE_FLAGS=minimal npm run dev\n```\n\n## Git Commands Preview (DO NOT EXECUTE)\n\nThe following commands would remove the safe deletion set:\n\n```bash\n# PREVIEW ONLY - DO NOT EXECUTE\ngit rm "components/percy/archive/PercyOnboardingRevolution_LEGACY_v1.tsx"\ngit rm "components/legacy/services/services/page.tsx"\ngit rm "components/dashboard/VIPPortalDashboard.tsx"\ngit rm "components/dashboard/DashboardHome.tsx"\ngit rm "components/powerUser/CrossAgentHandoffModal.tsx"\ngit rm "lib/agents/legacy/AgentConstellationArchive.tsx"\ngit rm "archived-app/legacy/book-publishing/page.tsx"\ngit rm "hooks/useAgentLeague.ts"\ngit rm "archived-app/legacy/social-media/page.tsx"\ngit rm "components/popup/PercyIntelligenceModal.tsx"\n# ... and 149 more files\n```\n\n## Top 20 Largest Unused Modules\n\n| File | Size | Lines | Exports | Action |\n|------|------|-------|---------|--------|\n| `app/PercyChat.tsx` | 30.5 KB | 809 | 1 | needs_manual_review |\n| `components/dashboard/VIPPortalDashboard.tsx` | 28.4 KB | 719 | 1 | remove |\n| `components/dashboard/DashboardHome.tsx` | 26.5 KB | 675 | 1 | remove |\n| `lib/maintenance/BackendHealthChecker.ts` | 25.4 KB | 838 | 7 | keep |\n| `components/powerUser/CrossAgentHandoffModal.tsx` | 22.9 KB | 539 | 1 | remove |\n| `components/percy/PercyWidget.tsx` | 22.4 KB | 575 | 1 | keep |\n| `hooks/useAgentLeague.ts` | 20.6 KB | 692 | 12 | remove |\n| `components/popup/PercyIntelligenceModal.tsx` | 20.1 KB | 527 | 2 | remove |\n| `lib/maintenance/CoreLogicRefactorer.ts` | 18.5 KB | 625 | 6 | keep |\n| `lib/automation/workflowQueue.ts` | 18.3 KB | 623 | 14 | remove |\n| `components/popup/SkillSmithInsightModal.tsx` | 18.1 KB | 449 | 2 | remove |\n| `components/agents/SuperheroIntelligenceDashboard.tsx` | 17.8 KB | 380 | 1 | remove |\n| `lib/systemHealth/performanceMonitoring.ts` | 17.6 KB | 571 | 1 | keep |\n| `lib/performance/3DOptimizer.ts` | 16 KB | 540 | 8 | keep |\n| `lib/3d/Agent3DCardCore.tsx` | 15.9 KB | 565 | 10 | remove |\n| `utils/mobilePerformanceMonitor.ts` | 15.7 KB | 519 | 4 | remove |\n| `lib/rag/knowledgeBase.ts` | 15.7 KB | 503 | 5 | keep |\n| `lib/powerUser/crossAgentHandoffs.ts` | 14.3 KB | 505 | 0 | remove |\n| `components/ui/AgentCard.tsx` | 14.1 KB | 458 | 1 | needs_manual_review |\n| `utils/imageAutomation.ts` | 14.1 KB | 467 | 4 | remove |\n\n## Recommendations\n\n### Phase 1: Safe Removals\n1. Remove the 159 files in the "Safe Deletion Set"\n2. Run full test suite to verify no breakage\n3. Create PR: `chore: dead-code sweep (safe removals)`\n\n### Phase 2: Inline Migrations\n1. Inline the 62 small helper files\n2. Update imports in consuming files\n3. Create PR: `refactor: inline deprecated helpers`\n\n### Phase 3: Manual Review\n1. Review the 57 blocked files manually\n2. Verify dynamic references are not critical\n3. Move confirmed unused files to `__to_delete__/` directory\n4. Create PR: `chore: quarantine unused components`\n\n## Exclusions and Guards Applied\n\nThis analysis excluded:\n- `**/*.test.*`, `**/*.spec.*`, `**/*.stories.*`\n- `__mocks__/**`, `__tests__/**`\n- `node_modules`, `.next`, `.turbo`, `dist`, `build`, `coverage`\n- API handlers reachable by URL are treated as entrypoints\n- Feature-flag gated modules marked for manual review\n\n## Analysis Metadata\n\n- **Analysis Date:** 2025-10-02T18:49:42.397Z\n- **Total Files Processed:** 647\n- **Entrypoints Identified:** 149\n- **Safety Checks Performed:** 283 files checked\n- **Critical References Found:** 215\n