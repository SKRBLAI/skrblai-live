# SKRBL AI Platform Environment Configuration
# Copy this file to .env and update with your actual values

# ===========================
# EXISTING CONFIGURATION
# ===========================

# Next.js Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Stripe Configuration
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key

# Resend Email Configuration
RESEND_API_KEY=your_resend_api_key
RESEND_API_KEY_1=re_UzsMbTyc_Dwbu4H7pPLM3kz3mir5oDke9
# ===========================
# NEW MCP ORCHESTRATION CONFIG
# ===========================

# MCP Server Configuration
MCP_SERVER_URL=http://localhost:3001
MCP_API_KEY=your_mcp_api_key_here
MCP_ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# Redis Configuration (for BullMQ)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Redis Cluster Configuration (for production)
# REDIS_CLUSTER_NODES=redis-node1:6379,redis-node2:6379,redis-node3:6379

# BullMQ Queue Configuration
BULLMQ_CONCURRENCY=5
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=50

# n8n Integration
N8N_API_BASE_URL=http://localhost:5678/api/v1
N8N_API_KEY=your_n8n_api_key
N8N_WEBHOOK_BASE_URL=http://localhost:5678/webhook
N8N_WEBHOOK_SECRET=your_webhook_secret_for_validation

# n8n Cloud Configuration (alternative to self-hosted)
# N8N_API_BASE_URL=https://your-instance.app.n8n.cloud/api/v1
# N8N_WEBHOOK_BASE_URL=https://your-instance.app.n8n.cloud/webhook

# n8n Quota Management
N8N_DAILY_LIMIT=1000
N8N_MONTHLY_LIMIT=10000
N8N_CONCURRENT_LIMIT=5

# ===========================
# SUPABASE FUNCTIONS CONFIG
# ===========================

# Supabase Functions Environment Variables
# These are set in Supabase directly, not in .env
# Use: supabase secrets set KEY=value

# N8N_WEBHOOK_BASE_URL=your_n8n_webhook_base_url
# N8N_API_KEY=your_n8n_api_key
# STRIPE_SECRET_KEY=your_stripe_secret_key
# RESEND_API_KEY=your_resend_api_key

# ===========================
# MCP SERVER SPECIFIC CONFIG
# ===========================

# MCP Server Application
MCP_PORT=3001
MCP_LOG_LEVEL=debug

# External Service Timeouts (milliseconds)
N8N_REQUEST_TIMEOUT=15000
QUEUE_JOB_TIMEOUT=300000
WEBHOOK_TIMEOUT=10000

# Rate Limiting
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX=100

# Security
JWT_SECRET=your_jwt_secret_for_mcp_server
API_KEY_EXPIRY=2592000

# ===========================
# ORCHESTRATION MONITORING
# ===========================

# Monitoring and Analytics
ANALYTICS_ENABLED=true
METRICS_ENDPOINT=http://localhost:3001/metrics
LOG_LEVEL=info

# Error Tracking (optional)
SENTRY_DSN=your_sentry_dsn_for_error_tracking

# Performance Monitoring
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=skrbl-ai-mcp

# ===========================
# DEVELOPMENT ONLY
# ===========================

# Debug Configuration
DEBUG=mcp-server:*,bullmq:*,n8n:*
NODE_OPTIONS=--max-old-space-size=4096

# Local Development URLs
LOCAL_REDIS_URL=redis://localhost:6379
LOCAL_N8N_URL=http://localhost:5678
LOCAL_MCP_URL=http://localhost:3001

# Docker Development
COMPOSE_PROJECT_NAME=skrbl-mcp-dev

# ===========================
# PRODUCTION OVERRIDES
# ===========================

# Production Redis (use when NODE_ENV=production)
# REDIS_HOST=your-redis-cluster-endpoint
# REDIS_TLS=true
# REDIS_USERNAME=your-redis-username

# Production n8n (use when NODE_ENV=production)
# N8N_API_BASE_URL=https://your-production-n8n.com/api/v1
# N8N_WEBHOOK_BASE_URL=https://your-production-n8n.com/webhook

# Production MCP Server
# MCP_SERVER_URL=https://mcp.your-domain.com
# MCP_ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com

# Production Database
# DATABASE_URL=postgresql://user:password@host:port/database

# ===========================
# FEATURE FLAGS
# ===========================

# MCP Feature Toggles
ENABLE_AGENT_HANDOFFS=true
ENABLE_VIDEO_ANALYSIS_QUEUE=true
ENABLE_PAYMENT_AUTOMATION=true
ENABLE_EMAIL_AUTOMATION=true
ENABLE_WORKFLOW_ORCHESTRATION=true

# Queue Feature Toggles
ENABLE_QUEUE_MONITORING=true
ENABLE_QUEUE_RETRY_LOGIC=true
ENABLE_QUEUE_DEAD_LETTER=true

# n8n Feature Toggles
ENABLE_N8N_INTEGRATION=true
ENABLE_N8N_WEBHOOKS=true
ENABLE_N8N_QUOTA_MANAGEMENT=true

# Monitoring Feature Toggles
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
ENABLE_ERROR_TRACKING=true

# ===========================
# BACKUP AND RECOVERY
# ===========================

# Database Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# Redis Backup Configuration
REDIS_BACKUP_ENABLED=false
REDIS_BACKUP_SCHEDULE="0 3 * * *"