/* ============================================================================
   SKRBL AI – Global Styles (SSR-safe cosmic background + scoped glass utils)
   ============================================================================ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== Base / Resets ========== */
@layer base {
  /* ensure hero never hides under navbar */
  :root { 
    scroll-padding-top: 7rem; 
  }

  html, body {
    height: 100%;
    min-height: 100vh; /* Fallback for browsers that don't support svh */
    min-height: 100svh; /* Safe viewport height for mobile */
    overflow-x: hidden;
    background-color: #0b1220; /* fallback */
    background-image:
      radial-gradient(80% 60% at 50% 0%,
        rgba(8,27,52,0.98) 0%,
        rgba(5,12,24,0.98) 60%,
        rgba(3,8,16,1) 100%
      ),
      radial-gradient(24rem 24rem at 20% 20%, rgba(56,189,248,.12) 0%, transparent 60%),
      radial-gradient(32rem 32rem at 80% 40%, rgba(168,85,247,.10) 0%, transparent 60%),
      radial-gradient(28rem 28rem at 50% 85%, rgba(45,212,191,.08) 0%, transparent 60%);
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: cover;
    color: #E6F1FF;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ========== Scoped Glass Utilities (use these on cards/sections) ========== */
@layer components {
  .glass {
    background: rgba(255,255,255,0.06);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.12);
  }

  .glass-strong {
    background: rgba(255,255,255,0.08);
    -webkit-backdrop-filter: blur(16px);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(45,212,191,0.32);
    box-shadow: 0 0 30px rgba(45,212,191,.10);
  }

  /* Premium glass button (navbar / CTAs) */
  .nav-button-glass {
    @apply relative inline-flex items-center justify-center px-5 py-2.5 overflow-hidden font-medium text-white transition-all duration-300 ease-out rounded-full shadow-lg;
    background-color: rgba(255,255,255,0.08);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }
  .nav-button-glass:hover {
    background-color: rgba(255,255,255,0.15);
    border-color: rgba(255,255,255,0.4);
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 0 15px rgba(45,212,191,0.3), 0 0 30px rgba(56,189,248,0.2);
  }
  .nav-button-glass.active {
    background-color: rgba(45,212,191,0.2);
    border-color: rgba(45,212,191,0.5);
    box-shadow: 0 0 20px rgba(45,212,191,0.5);
  }

  /* Utility to explicitly clear bg on a stubborn element (opt‑in, not global) */
  .no-bg { background: transparent !important; }

  /* Reusable solid gradient button like the site’s CTAs */
  .btn-solid-grad {
    @apply inline-flex items-center rounded-xl px-5 py-2.5 font-semibold tracking-tight
           bg-gradient-to-r from-fuchsia-500 to-cyan-400 text-white
           shadow-[0_8px_30px_rgba(59,130,246,.25)]
           transition-transform duration-150;
  }
  .btn-solid-grad:hover { transform: translateY(-1px); }

  /* Z-index utilities */
  .z-fg { z-index: 50; } 
  .z-bg { z-index: 0; }
}

/* ========== Z-index guardrails for layering control ========== */
@layer utilities {
  .z-fg { z-index: 50; }
  .z-bg { z-index: 0; }
}

/* ========== Animation controls and motion reduction ========== */
@layer utilities {
  .anim-float, .anim-bounce, .anim-parallax { will-change: transform; }
  .reduce-float { animation: none !important; transform: none !important; }
}

/* ========== Motion preferences (small polish) ========== */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .01ms !important; animation-iteration-count: 1 !important; transition-duration: .01ms !important; }
  
  .anim-float, .anim-bounce, .anim-parallax {
    animation: none !important;
    transform: none !important;
  }
}

/* Hide any stray legacy wrappers */

/* Revenue Guide Star - 2.5D Hero Plate */
.gs-plate {
  position: relative;
  border-radius: 28px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(8px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08);
  transform: perspective(1100px) rotateX(6deg);
  transform-origin: top center;
}

.gs-plate::after {
  content: "";
  position: absolute; left: 10%; right: 10%; bottom: -24px; height: 56px;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0.35), rgba(0,0,0,0.08) 60%, transparent 80%);
  filter: blur(10px); z-index: -1;
}

.aura-h1 {
  --aura-from: var(--brand-from, #8b5cf6);
  --aura-to: var(--brand-to, #22d3ee);
  font-weight: 800; line-height: 1.05; letter-spacing: -0.02em;
  background: linear-gradient(90deg, var(--aura-from), var(--aura-to));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 18px color-mix(in oklab, var(--aura-to) 40%, transparent), 0 1px 0 rgba(255,255,255,0.2);
}

:root { --nav-h: 76px; }
@media (max-width: 640px) { :root { --nav-h: 64px; } }

.mode-pill {
  @apply rounded-full px-4 py-2 text-sm font-medium border border-white/20 hover:bg-white/5 transition-all cursor-pointer;
}
.mode-pill.active {
  @apply bg-cyan-500/20 border-cyan-400/50 text-cyan-300;
}
[data-legacy-home], .legacy-home, #legacy-onboarding { display:none !important; }

/* Safe-area utilities for iOS notch compatibility */
:root {
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-left: env(safe-area-inset-left);
  --safe-right: env(safe-area-inset-right);
}

.pt-safe { padding-top: max(1rem, var(--safe-top)); }
.pb-safe { padding-bottom: max(1rem, var(--safe-bottom)); }
.pl-safe { padding-left: max(1rem, var(--safe-left)); }
.pr-safe { padding-right: max(1rem, var(--safe-right)); }

/* Mobile-safe wrapper utilities */
.mobile-safe-wrapper {
  min-height: 100vh;
  min-height: 100svh;
  padding-top: max(1rem, var(--safe-top));
  padding-bottom: max(1rem, var(--safe-bottom));
  overflow-x: hidden;
}

/* Prevent horizontal scroll globally */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

* {
  min-width: 0;
}

.no-shrink {
  flex-shrink: 0;
}